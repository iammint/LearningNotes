# 第一章 概述
## 1.2　Web客户端和服务器
Web 内容都是存储在Web 服务器上的。Web 服务器所使用的是HTTP 协议，因此经常会被称为HTTP 服务器。

## 1.4　事务
一个HTTP 事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成。

#### 1.4.1　方法
HTTP 支持几种不同的请求命令，这些命令被称为HTTP 方法（HTTP method）。每条HTTP 请求报文都包含一个方法。这个方法会告诉服务器要执行什么动作（获取
一个Web 页面、运行一个网关程序、删除一个文件等）。
#### 1.4.2　状态码
每条HTTP 响应报文返回时都会携带一个状态码。状态码是一个三位数字的代码，
告知客户端请求是否成功，或者是否需要采取其他动作。

#### 1.4.3　Web页面中可以包含多个对象
应用程序完成一项任务时通常会发布多个HTTP 事务。比如，Web 浏览器会发布一系列HTTP 事务来获取并显示一个包含了丰富图片的Web 页面。浏览器会执行一个事务来获取描述页面布局的HTML“框架”，然后发布另外的HTTP 事务来获取每个嵌入式图片、图像面板、Java 小程序等。这些嵌入式资源甚至可能位于不同的服务器上。

## 1.5 报文
报文包括请求报文和响应报文。

从Web 客户端发往Web 服务器的HTTP 报文称为请求报文（request message）。从服务器发往客户端的报文称为响应报文（response message）。

HTTP 请求和响应报文的格式很类似。


HTTP 报文包括以下三个部分。
- 起始行

报文的第一行就是起始行，在请求报文中用来说明要做些什么，在响应报文中说明出现了什么情况。

- 首部字段

起始行后面有零个或多个首部字段。每个首部字段都包含一个名字和一个值，为
了便于解析，两者之间用冒号（:）来分隔。首部以一个空行结束。添加一个首部字段和添加新行一样简单。

- 主体

空行之后就是可选的报文主体了，其中包含了所有类型的数据。请求主体中包括
了要发送给Web 服务器的数据；响应主体中装载了要返回给客户端的数据。起
始行和首部都是文本形式且都是结构化的，而主体则不同，主体中可以包含任意
的二进制数据（比如图片、视频、音轨、软件程序）。当然，主体中也可以包含
文本。

## 1.6 连接
#### 1.6.1 TCP/IP
- HTTP是应用层协议。
- 因特网传输协议TCP/IP是网络通信层的协议。


因特网本身就是基于TCP/IP的，只要建立了TCP/IP连接，客户端和服务器之间的报文交换就不会丢失。

#### 1.6.2 连接、IP地址及端口号
在HTTP客户端向服务器发送报文之前，需要用网际协议IP地址和端口号在客户端和服务器之间建立一条TCP/IP连接。

最初通过URL来获得HTTP服务器的IP地址和端口号

(a) 浏览器从URL 中解析出服务器的主机名；

(b) 浏览器将服务器的主机名转换成服务器的IP 地址；

(c) 浏览器将端口号（如果有的话）从URL 中解析出来；

(d) 浏览器建立一条与Web 服务器的TCP 连接；

(e) 浏览器向服务器发送一条HTTP 请求报文；

(f) 服务器向浏览器回送一条HTTP 响应报文；

(g) 关闭连接，浏览器显示文档。

#### 1.8.1 代理
客服端 ⇄ 代理  ⇄（因特网） 服务器
